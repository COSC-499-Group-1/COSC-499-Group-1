<div id="home">
    <app-header></app-header>
    <mat-sidenav-container class="container">
        <mat-sidenav
            [fixedBottomGap]="options.value.bottom"
            [fixedInViewport]="options.value.fixed"
            [fixedTopGap]="options.value.top"
            class="sidenav"
            mode="side"
            opened
        >
            <app-sidebar
                (channelIdEvent)="receiveId($event)"
                (channelNameEvent)="receiveName($event)"
                (switchEvent)="updateDisplay($event)"
                [subbedChannel]="newSubbedChannel"
            ></app-sidebar>
        </mat-sidenav>

        <mat-sidenav-content [formGroup]="options" id="scrollMe">
            <div *ngIf="userLoggedIn; else elseBlock">
                <div [ngSwitch]="display">
                    <div *ngSwitchCase="'channelBrowser'">
                        <app-channel-browser
                            (newChannelIdEvent)="
                                receiveNewSubbedChannel($event)
                            "
                        ></app-channel-browser>
                    </div>
                    <div *ngSwitchCase="'chatBox'">
                        <app-chatbox
                            [channelId]="selectedChannelId"
                            [channelName]="selectedChannelName"
                        ></app-chatbox>
                    </div>
                    <div *ngSwitchCase="'profile'">
                        <app-profile></app-profile>
                    </div>
                </div>
            </div>

            <ng-template #elseBlock>{{ common.routeTo("/login") }}</ng-template>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>
